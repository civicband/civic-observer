{% load analytics %}
<li id="channel-{{ channel.pk }}" class="px-4 py-4 sm:px-6">
    <div class="flex items-center justify-between">
        <div class="flex items-center">
            <div class="flex-shrink-0">
                {% if channel.platform == "discord" %}
                    <span class="text-2xl">ğŸ’¬</span>
                {% elif channel.platform == "slack" %}
                    <span class="text-2xl">ğŸ“±</span>
                {% elif channel.platform == "bluesky" %}
                    <span class="text-2xl">ğŸ¦‹</span>
                {% elif channel.platform == "mastodon" %}
                    <span class="text-2xl">ğŸ˜</span>
                {% endif %}
            </div>
            <div class="ml-4">
                <p class="text-sm font-medium text-gray-900">{{ channel.get_platform_display }}</p>
                <p class="text-sm text-gray-500">{{ channel.handle|truncatechars:50 }}</p>
            </div>
        </div>
        <div class="flex items-center gap-4">
            {% if channel.is_enabled %}
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    Enabled
                </span>
            {% else %}
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                    Disabled
                </span>
            {% endif %}
            <button hx-post="{% url 'notifications:channel-delete' channel.pk %}"
                    hx-target="#channel-{{ channel.pk }}"
                    hx-swap="outerHTML"
                    hx-confirm="Are you sure you want to delete this channel?"
                    class="text-red-600 hover:text-red-900 text-sm"
                    data-umami-htmx-event="notification_channel_deleted">
                Delete
            </button>
        </div>
    </div>
</li>
